%\documentclass[11pt,a4paper]{scrbook}
\documentclass[12pt,a4paper,listof=totoc,captions=nooneline]{scrreprt} 
\usepackage{geometry}	
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[pdftex]{graphicx}
\usepackage{graphicx}
\usepackage[ngerman]{babel}
\usepackage{colortbl}	
\usepackage{xcolor}
\usepackage{soul}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
%\usepackage{tocloft}
\usepackage[colorlinks,
pdfpagelabels,
pdfstartview = FitH,
bookmarksopen = true,
bookmarksnumbered = true,
linkcolor = black,
plainpages = false,
hypertexnames = false,
citecolor = black] {hyperref}
\usepackage{amsmath, amssymb, amstext, amsfonts, mathrsfs}	% Mathe
\usepackage{selinput} 
\SelectInputMappings{ 
adieresis={ä}, 
germandbls={ß}, 
}
\renewcommand{\familydefault}{\sfdefault}
\usepackage{graphicx}
\usepackage[onehalfspacing]{setspace}

\usepackage{chngcntr}
\counterwithout{equation}{chapter}


\definecolor{uhhred}{cmyk}{0,100,100,0}

\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\addtokomafont{caption}{\centering}
\AfterTOCHead[lof]{\renewcommand*{\numberline}[1]{\nonumberline}}
\AfterTOCHead[toc]{\renewcommand*{\numberline}[1]{\nonumberline}}

\usepackage{selinput} 
\SelectInputMappings{ 
adieresis={ä}, 
germandbls={ß}, 
}
\renewcommand{\familydefault}{\sfdefault}
\usepackage{graphicx}
\usepackage[onehalfspacing]{setspace}


\definecolor{uhhred}{cmyk}{0,100,100,0}

\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\addtokomafont{caption}{\centering}
\AfterTOCHead[lof]{\renewcommand*{\numberline}[1]{\nonumberline}}
\AfterTOCHead[toc]{\renewcommand*{\numberline}[1]{\nonumberline}}

\begin{document}
\setlength{\parindent}{0pt}
%\frontmatter
\newgeometry{centering,left=2cm,right=2cm,top=2cm,bottom=2cm}
\begin{titlepage}
\includegraphics[scale=0.3]{UHH-Logo_2010_Farbe_CMYK.pdf}
\vspace*{2cm}
\Large
\begin{center} 
      {\color{uhhred}\textbf{\so{Labreport, Gruppe 4 }}}
%oder {\color{uhhred}\textbf{\so{MASTERTHESIS}}}
\vspace*{2.0cm}\\
{\LARGE \textbf{Projekt Netzwerk-Infrastruktur WS 2017/18}}
\vspace*{2.0cm}\\
vorgelegt von
\vspace*{0.4cm}\\
\textbf{Dewin Bagci:} 5bagci@informatik.uni-hamburg.de\\ \textbf{Karan Popat:} karan.popat@outlook.de \\ \textbf{ Hanife Demircioglu:} h.demircioglu@hotmail.de \\ 
\end{center}
\vspace*{3.9cm}

\noindent 
MIN-Fakultät \vspace*{0.4cm} \\ 
Fachbereich Informatik \\
Abgabedatum: 01.03.2018\\
Dozent: Robert Olotu

\end{titlepage}

\restoregeometry

\tableofcontents

\chapter{Abkürzungsverzeichnis}

\listoffigures
%\mainmatter 


\chapter*{Part 3: Network Troubleshooting Utilities}
\addcontentsline{toc}{chapter}{Part 3: Network Troubleshooting Utilities} 

\begin{figure}[H]
%\begin{subfigure}{0.5\textwidth}

\includegraphics[width=0.75\textwidth]{UHH-Logo_2010_Farbe_CMYK.pdf}
%\subcaption{Subfigure Bild Nr. 1}

%\end{subfigure}
%\begin{subfigure}{0.5\textwidth}
%\includegraphics[width=0.75\textwidth]{Bild2.png}
%\subcaption{Subfigure Bild Nr. 2}
%\end{subfigure}
\caption[Abbildung 1: Broadcast und Multicast]{Broadcast und Multicast}
\end{figure}


\section*{Exercise 6: Managing Services (Please use pnidX-svr-mu)}
\addcontentsline{toc}{section}{Exercise 6: Managing Services (Please use pnidX-svr-mu} 

\section*{Exercise 7: Configure the following network (figure 1) using ifconfig and route add}
\addcontentsline{toc}{section}{Exercise 7: Configure the following network (figure 1) using ifconfig and route add} 

\section*{Exercise 8: Configure the following network (figure 1) using ip and nmcli}
\addcontentsline{toc}{section}{Exercise 8: Configure the following network (figure 1) using ip and nmcli} 

\section*{Exercise 9: Configure the following network (figure 1) using GUI}
\addcontentsline{toc}{section}{Exercise 9: Configure the following network (figure 1) using GUI} 

\chapter*{Part 4: Network Scanning}
\addcontentsline{toc}{chapter}{Part 4: Network Scanning} 

\section*{Exercise 1: Configure the networks of figure 1}
\addcontentsline{toc}{section}{Exercise 1: Configure the networks of figure 1} 

\section*{Exercise 2: NMAP}
\addcontentsline{toc}{section}{Exercise 2: NMAP} 

\section*{Exercise 3: Nessus network device identification}
\addcontentsline{toc}{section}{Exercise 3: Nessus network device identification} 

\section*{Exercise 4: OpenVAS Network device identification}
\addcontentsline{toc}{section}{Exercise 4: OpenVAS Network device identification} 

\chapter*{Part 5: Sniffing, Virtual Private Network (VPN)}
\addcontentsline{toc}{chapter}{Part 5: Sniffing, Virtual Private Network (VPN)} 

\section*{Exercise 1: Configure and set the networks shown below (figure1 and 2)}
\addcontentsline{toc}{section}{Exercise 1: Configure and set the networks shown below (figure1 and 2)} 

\section*{Exercise 2: Getting started with network monitoring tools}
\addcontentsline{toc}{section}{Exercise 2: Getting started with network monitoring tools} 

\section*{Exercise 3: TCPDUMP}
\addcontentsline{toc}{section}{Exercise 3: TCPDUMP} 

\section*{Exercise 4: Wireshark}
\addcontentsline{toc}{section}{Exercise 4: Wireshark} 

\textbf{Question 1:} Please type and examine the syntax for a Wireshark command which capture filter so that all IP datagrams with source or destination IP address equal to 10.88.X.? are recorded. \\ 

\textbf{Answer 1:} Mit dem Filter: \textit{ip.addr == 10.88.40.70} können wir alle Netzwerkpakete, welche über die Schnittstelle 10.88.40.70 gesendet oer empfangen werden, abfangen und anzeigen lassen.\\

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.7\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q1.PNG} 
\end{center}
\caption[Abbildung X1 Wireshark Filter 1]{Wireshark Filter ip.addr == 10.88.40.70}
\end{figure}

\textbf{Question 2:} Please type and examine the syntax for a Wireshark display filter that shows IP datagrams with destination IP address equal to 10.88.X.? and frame size greater than 400 bytes. \\

\textbf{Answer 2:} Um alle Datenpakete abzufangen, die mindestens 400 Byte groß sind, bedarf eine kleine Erweiterung des vorherigen Befehls. Der Filter lautet nun: \textit{ip.addr == 10.88.40.70 \&\& frame.len > 400}. Mit dem Teil \textit{frame.len > X} können wir die Datenpakete nach Bytegröße X Filtern. Für X gilt, X $< 2^{32}$ $\wedge$ X $\in \mathbb{N}$. \\

\textbf{Question 3:} Please type and examine the syntax for a Wireshark display filter that shows packets containing ICMP messages with source or destination IP address equal to 10.88.X.? and frame numbers between 15 and 30 \\

\textbf{Answer 3:} Der Filter lautet: \textit{ip.addr == 10.88.40.70 \&\& (frame.number > 15 \&\& frame.number < 30)}. ICMP steht für Internet Control Message Protocol und übermittelt hauptsächlich Diagnose-informationen zwischen dem Router und dem Host. \\

\textbf{Question 4:} Please type and examine the syntax for a Wireshark display filter that shows packets containing TCP segments with source or destination IP address equal to 10.88.X.? and using port number 23. \\

\textbf{Answer 4:} Damit wir alle TCP Pakete eines Hosts über die Port 23 abfangen können wird der folgende Filter eingesetzt: \textit{ip.dst == 10.88.40.70 and tcp.port == 23}. Bei TCP handelt es sich um ein Übertragungsprotokoll (Transmission Control Protocol) aus der Familie der Internetprotokolle. Port 23 ist standardisiert für den Service Telnet. \\

\textbf{Question 5:} Please type and examine a Wireshark capture filter expression for Q4. \\  

\textbf{Answer 5:} Der Filter ist ähnlich wie in Q4, lediglich die Konfiguration findet an einer anderen Stelle statt. \\ 

\textbf{Question 6:} Please type and examine the syntax for a Wireshark command which, by default, collects packets with source or destination IP address 10.88.X.? on interface eth4. \\

\textbf{Answer 6:} Innerhalb des Terminals lässt sich der Filter: wireshark -i eth4 -k -f "host 10.88.40.70", anwenden. Die Argumente bedeuten dabei folgendes: -i eth4 steht für Interface, -k startet das Abfangen von Paketen und -f "host 10.88.40.70", ist der Paketfilter.\\

\textbf{Question 7:} : Please type and examine the syntax of a display filter which selects the TCP packets with destination IP address 10.88.X.?, and TCP port number 23.\\

\textbf{Answer 7:} Der Filter lautet: \textit{ip.addr == 10.88.40.70 \&\& tcp.port == 23} und fängt alle ein-/ausgehenden Pakete der Ip Adresse 10.88.40.70 über den Port 23 (Telnet) ab.\\

\textbf{Question 8:} Please login to the server pnidX-mid-hh and start an ftp client to the server pnidXcnt-bln(vsftpd
daemon should be running on pnidX-cnt-bln). Please use
wireshark on pnidX-mid-bln to sniff or capture the username and password of the ftp service between pnidX-mid-hh and pnidX-cnt-bln. Is this possible, show your result of the capture\\

\textbf{Answer 8:} Mithilfe von Wireshark können wir leicht das Telnet login Passwort herausfinden, da bei der Übertragung via Telnet die Pakete unverschlüsselt übertragen werden. Dazu starten wir zunächst Wirehsark auf dem Host pnid4-mid-hh. \\

\textbf{Question 9:} Please login to the server pnidX-mid-hh and start an ssh client to the server
pnidX-cnt-bln(sshd daemon should be running on pnidX-cnt-bln). Please use wireshark on pnidX-mid-bln to sniff or capture the username and password of the ssh service between pnidX-mid-hh and pnidX-cnt-bln. Is this possible, show the result of the capture. \\

\textbf{Answer 9:} Anders als Telnet werden bei shh (Secure Shell) die Pakete verschlüsselt übertragen, sodass es nicht möglich ist das Passwort mitzulesen. Zuerst starten wir wireshark auf dem Host pnid4-mid-hh. \\

\section*{Exercise 5: Experimenting with network monitoring tools}
\addcontentsline{toc}{section}{Exercise 5: Experimenting with network monitoring tools} 

\textbf{Exercise:} In this exercise you will connect to the webserver pnidX-cnt-bln from pnidX-mid-hh. Let pnidX-cnt-bln determine your IP-address and the OS you are running. Then, connect to
a service of your choice (e.g. ftp, http, ssh etc.) on pnidX cnt-bln. Let pnidX-mid-hh determine which services are running on pnidX-cnt-bln. \\

\textbf{Solution:} Wir führen zunächst nmap auf dem Host pnid4-cnt-bln aus und übergeben dabei die Zieladresse des Hosts pnid4-mid-hh, damit wir sehen können welche Ports geöffnet sind bzw. welcher Service auf dem Zielhost gerade aktiv ist. \\

[IMAGE] \\

Wir sehen nun, dass die Ports 21 ftp, 22 ssh, 23 telnet, 80 http und 111 rpcbind offen sind und entscheiden uns via Telnet vom Quellhost pnid4-cnt-bln bei dem Zielhost pnid-mid-hh anzumelden.

[IMAGE] \\  

Die Ausgabe des letzten Logins zeigt uns, dass die Anmeldung erfolgreich war.  


\section*{Exercise 6: Set up a host-to-host VPN using preshared key}
\addcontentsline{toc}{section}{Exercise 6: Set up a host-to-host VPN using preshared key} 

\section*{Exercise 7: Set up a host-to-host VPN using RSA keys}
\addcontentsline{toc}{section}{Exercise 7: Set up a host-to-host VPN using RSA keys}

\section*{Exercise 8: Set up a network-to-network VPN using preshared key}
\addcontentsline{toc}{section}{Exercise 8: Set up a network-to-network VPN using preshared key}

\section*{Exercise 9: Set up a network-to-network VPN using RSA secrets keys}
\addcontentsline{toc}{section}{Exercise 9: Set up a network-to-network VPN using RSA secrets keys}



%\backmatter 

\chapter{Literaturverzeichnis und Quellenverzeichnis}


\end{document}