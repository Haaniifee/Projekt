%\documentclass[11pt,a4paper]{scrbook}
\documentclass[12pt,a4paper,listof=totoc,captions=nooneline]{scrreprt} 
\usepackage{geometry}	
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[pdftex]{graphicx}
\usepackage{graphicx}
\usepackage[ngerman]{babel}
\usepackage{colortbl}	
\usepackage{xcolor}
\usepackage{soul}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
%\usepackage{tocloft}
\usepackage[colorlinks,
pdfpagelabels,
pdfstartview = FitH,
bookmarksopen = true,
bookmarksnumbered = true,
linkcolor = black,
plainpages = false,
hypertexnames = false,
citecolor = black] {hyperref}
\usepackage{amsmath, amssymb, amstext, amsfonts, mathrsfs}	% Mathe
\usepackage{selinput} 
\SelectInputMappings{ 
adieresis={ä}, 
germandbls={ß}, 
}
\renewcommand{\familydefault}{\sfdefault}
\usepackage{graphicx}
\usepackage[onehalfspacing]{setspace}

\usepackage{chngcntr}
\counterwithout{equation}{chapter}


\definecolor{uhhred}{cmyk}{0,100,100,0}

\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\addtokomafont{caption}{\centering}
\AfterTOCHead[lof]{\renewcommand*{\numberline}[1]{\nonumberline}}
\AfterTOCHead[toc]{\renewcommand*{\numberline}[1]{\nonumberline}}

\usepackage{selinput} 
\SelectInputMappings{ 
adieresis={ä}, 
germandbls={ß}, 
}
\renewcommand{\familydefault}{\sfdefault}
\usepackage{graphicx}
\usepackage[onehalfspacing]{setspace}


\definecolor{uhhred}{cmyk}{0,100,100,0}

\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\addtokomafont{caption}{\centering}
\AfterTOCHead[lof]{\renewcommand*{\numberline}[1]{\nonumberline}}
\AfterTOCHead[toc]{\renewcommand*{\numberline}[1]{\nonumberline}}

\begin{document}
\setlength{\parindent}{0pt}
%\frontmatter
\newgeometry{centering,left=2cm,right=2cm,top=2cm,bottom=2cm}
\begin{titlepage}
\includegraphics[scale=0.3]{UHH-Logo_2010_Farbe_CMYK.pdf}
\vspace*{2cm}
\Large
\begin{center} 
      {\color{uhhred}\textbf{\so{Labreport, Gruppe 4 }}}
%oder {\color{uhhred}\textbf{\so{MASTERTHESIS}}}
\vspace*{2.0cm}\\
{\LARGE \textbf{Projekt Netzwerk-Infrastruktur WS 2017/18}}
\vspace*{2.0cm}\\
vorgelegt von
\vspace*{0.4cm}\\
\textbf{Dewin Bagci:} 5bagci@informatik.uni-hamburg.de\\ \textbf{Karan Popat:} karan.popat@outlook.de \\ \textbf{ Hanife Demircioglu:} h.demircioglu@hotmail.de \\ 
\end{center}
\vspace*{3.9cm}

\noindent 
MIN-Fakultät \vspace*{0.4cm} \\ 
Fachbereich Informatik \\
Abgabedatum: 01.03.2018\\
Dozent: Robert Olotu

\end{titlepage}

\restoregeometry

\tableofcontents

%\chapter{Abkürzungsverzeichnis}

\listoffigures
%\mainmatter 


\chapter*{Part 3: Network Troubleshooting Utilities}
\addcontentsline{toc}{chapter}{Part 3: Network Troubleshooting Utilities} 

%\begin{figure}[H]
%\begin{subfigure}{0.5\textwidth}

%\includegraphics[width=0.75\textwidth]{UHH-Logo_2010_Farbe_CMYK.pdf}
%\subcaption{Subfigure Bild Nr. 1}

%\end{subfigure}
%\begin{subfigure}{0.5\textwidth}
%\includegraphics[width=0.75\textwidth]{Bild2.png}
%\subcaption{Subfigure Bild Nr. 2}
%\end{subfigure}
%\caption[Abbildung 1: Broadcast und Multicast]{Broadcast und Multicast}
%\end{figure}


\section*{Exercise 6: Managing Services (Please use pnidX-svr-mu)}
\addcontentsline{toc}{section}{Exercise 6: Managing Services (Please use pnidX-svr-mu} 
Please type and explain the meaning of the following commands: \\
1) \# chkconfig \\
Die folgenden Kommandos wurden auf Rechner pnid4-svr-mu mit dem Betriebssystem Centos-6.5-x86\_64 ausgeführt. \\
Zeigt an welche Dienste in ihren jeweiligen runlevels aktiviert bzw. deaktiviert sind [siehe Abb. 1] \\
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b1.PNG}
\end{center}
\caption[Abbildung 1: aktivierte bzw. deaktivierte Dienste eines runlevels]{aktivierte bzw. deaktivierte Dienste eines runlevels}
\end{figure}

2)\# \verb|chkonfig -- list iptables|\\
Zeigt an in welchen runlevel iptables eingeschaltet bzw. ausgeschaltet ist. [Abb. 2]
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b2.png}
\end{center}
\caption[Abbildung 2: Runlevel, in denen iptables eingeschaltet bzw. ausgeschaltet sind]{Runlevels, in denen iptables eingeschaltet bzw. ausgeschaltet sind}
\end{figure}

3)\# \verb|chkconfig --level 2 iptables off| \\
Deaktiviert iptables im runlevel 2. [Abb. 3]. Wir sehen, dass zuvor iptables im runlevel 2 aktiviert war. 
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b3.png}
\end{center}
\caption[Abbildung 3: ]{runlevel 2 wird ausgeschaltet}
\end{figure}

4)\# \verb|chkconfig --level 2345 iptables off|\\
Deaktiviert iptables im runlevel 2, 3, 4 und 5. [Abb. 4]
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b4.png}
\end{center}
\caption[Abbildung 4: Runlevel 2,3,4,5 werden deaktiviert]{Runlevel 2,3,4,5 werden deaktiviert}
\end{figure}

5)\# chkconfig iptables on | off \\ Mit iptables off wird iptables auf jedem runlevel deaktiviert. Mit iptables on wird iptables auf die default Konfiguration zurückgesetzt. Das bedeutet die runlevels 2,3,4 und 5 sind wieder aktiviert.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b5.png}
\end{center}
\caption[Abbildung 5: chkconfig iptables on | off]{chkconfig iptables on | off}
\end{figure}

6)\# chkconfig tftp on \\
Tftp ist ein Vorgänger des FTP-Protokolls. Dieser service ist nicht automatisch auf Centos-6.5-x86\_64 vorinstalliert und wird durch den Superserver xinetd, welcher ebenfalls nicht automatisch vorinstalliert ist, verwaltet. Damit wir die gewissen Pakete mit allen Abhängigkeiten für tftp und xinetd über das Terminal mit yum (Yellow dog Updater, Modified) installieren können, müssen wir ein Quellpaket Repository einrichten. \\ Zuerst erstellen wir einen Ordner mit \# mkdir /dvdrom im Verzeichnis /etc/yum.repos.d \\ Danach fügen wir das Verzeichnis als neues Repository hinzu, indem wir die Konfigurationsdatei mit dem vi Editor öffnen \# vi /etc/yum.repos.d/local.repo und das Repository hinzufügen. [Abb. 6]
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b6_1.png}
\end{center}
\caption[Abbildung 6: vi /etc/yum.repos.d/local.repo]{vi /etc/yum.repos.d/local.repo}
\end{figure}
Zuletzt mounten wir das Verzeichnis mit dem Befehl \# mount -t iso9660/dev/sr0/dvdrom
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b6_2.png}
\end{center}
\caption[Abbildung 7: mounten]{mounten}
\end{figure}
Nach dem wir den Befehl \#yum clean all im Terminal ausgeführt haben, kann die Installation beginnen. Dies geschieht wie folgt: \\ Wir führen im Terminal den Befehl \#yum install tftp aus, sodass die Installation starten kann.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b6_3.png}
\end{center}
\caption[Abbildung 8: yum install tftp]{yum install tftp}
\end{figure}
Nachdem tftp installiert wurde, muss außerdem xinetd installiert werden. Ansonsten kann tftp nicht verwendet werden. Mit dem Befehl \#yum install xinetd wird xinetd installiert.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b6_4.png}
\end{center}
\caption[Abbildung 9: yum install tftp]{yum install xinetd}
\end{figure}
Zunächst muss xinetd gestartet werden, damit wir Zugriff auf tftp haben. Dies geschieht mit dem Befehl \# service xinetd start.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b6_5.png}
\end{center}
\caption[Abbildung 10: service xinetd start]{service xinetd start}
\end{figure}
Die Dateien im Verzeichnis /etc/xinetd.d/ enthalten die Konfigurationsdateien für jeden von xinetd verwalteten Dienst. Die Konfigurationsdatei tftp muss wie in Abbildung 15 angepasst werden. Damit tftp funktioniert, muss disable=no sein. Disable legt fest, ob der Dienst aktiv ist oder nicht. Im Regelfall ist "disable = yes" zu Beginn. Dieser muss dann geändert werden zu "diasable = no". Nach der Konfiguration kann tftp genutzt werden, wie in Abbildung 12 zu sehen ist.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b6_6.png}
\end{center}
\caption[Abbildung 11: ]{}
\end{figure}
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b6_7.png}
\end{center}
\caption[Abbildung 12: ]{}
\end{figure}
Nachdem der Befehl \# chkconfig tftp on ausgeführt wurde, kann man sich mit dem Befehl \#chkconfig anzeigenlassen, ob der Dienst wirklich aktiviert wurde, da dieser angibt welche Dienste in ihren jeweiligen runlevels aktiviert bzw. deaktiviert sind. In der Abbildung 13 sieht man, dass tftp aktiviert ist. Tftp findet man unten im Bild bei den "xinetd based services".
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b6_8.png}
\end{center}
\caption[Abbildung 13: ]{}
\end{figure}
7)\# \verb|chkconfig --level 2 vsftpd off| \\ Um diesen Befehl ausführen zu können, muss zunächst vsftpd installiert werden. Dies geschieht mit dem Befehl \# yum install vsftpd. Nach der erfolgreichen Installation kann vsftpd verwendet werden. 
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b7.png}
\end{center}
\caption[Abbildung 14: yum install vsftpd]{yum install vsftpd}
\end{figure}
Mit dem Befehl \#\verb|chkconfig --level 2 vsftpd off| wird der Runlevel 2 von vsftpd deaktiviert.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b7_2.png}
\end{center}
\caption[Abbildung 15: Runlevel 2 von vsftpd wird deaktiviert]{Runlevel 2 von vsftpd wird deaktiviert}
\end{figure}
8)\# \verb|chkconfig --level 2345 vsftpd off| \\
Mit dem Befehl \#  \verb|chkconfig --level 2345 vsftpd off| werden die Runlevels 2, 3, 4 und 5 deaktiviert.\\
Zunächst haben wir mit dem Befehl "\#  \verb|chkconfig --level 2345 vsftpd|"die Runlevels 2, 3, 4 und 5 aktiviert, wie in Abbildung 16 zu sehen ist.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b8_1.png}
\end{center}
\caption[Abbildung 16: ]{}
\end{figure}

Hier sieht man, dass nach der Aktivierung die entsprechenden Runlevels aktiviert wurden.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b8_2.png}
\end{center}
\caption[Abbildung 17: ]{}
\end{figure}

Anschließend werden mit dem Befehl "\#  \verb|chkconfig --level 2345 vsftpd off|" die Runlevels 2, 3, 4 und 5 deaktiviert.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b8_3.png}
\end{center}
\caption[Abbildung 18: ]{}
\end{figure}

Man erkennt, dass die aktivierten Runlevels nach dem Ausführen des Befehls ausgeschaltet wurden.
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b8_4.png}
\end{center}
\caption[Abbildung 19: ]{}
\end{figure}
9)\# Explain the function of xinetd \\
Bei xinetd handelt es sich um einen open source Superserver für Unix-Systeme. Dieser verwaltet verschiedene Dienste u.a. den FTP / HTTP Server. \\Xinetd bietet gegenüber dem Vorgänger inetd noch weitere zusätzliche Dienste an um eine verbesserte Sicherheit zu ermöglichen. Dazu zählen Zugangskontrollen, zeitliche Beschränkung von Diensten (nach Datum und Uhrzeit), sowie einen Verteidigungsmechanismus gegen Portscanner. Sobald der xinetd Superserver eingeschaltet ist, lässt sich im Terminal nachvollziehen, welche Dienste über xinetd verwaltet werden.\\
The super server xinetd controlled services are automatically enabled or disabled by chkconfig. \\
Please type and explain the meaning of the following commands: \\10)\# service network stop\\
Der command stoppt alle konfigurierten Netzwerk interfaces.11)\# service network start\\ Der command aktiviert alle konfigurierten Netzwerk interfaces. 
\begin{figure}[H]
\begin{center}
\includegraphics[width=0.75\textwidth]{bilder/screens/Part_3/b10.png}
\end{center}
\caption[Abbildung 20: ]{}
\end{figure}

\section*{Exercise 7: Configure the following network (figure 1) using ifconfig and route add}
\addcontentsline{toc}{section}{Exercise 7: Configure the following network (figure 1) using ifconfig and route add} 

\section*{Exercise 8: Configure the following network (figure 1) using ip and nmcli}
\addcontentsline{toc}{section}{Exercise 8: Configure the following network (figure 1) using ip and nmcli} 

\section*{Exercise 9: Configure the following network (figure 1) using GUI}
\addcontentsline{toc}{section}{Exercise 9: Configure the following network (figure 1) using GUI} 

\chapter*{Part 4: Network Scanning}
\addcontentsline{toc}{chapter}{Part 4: Network Scanning} 

\begin{figure}[H]
\begin{center}
\includegraphics[width=1.2\textwidth]{bilder/screens/Part_4/lan.PNG} 
\end{center}
\caption[Abbildung P4 figure 1 LAN]{Netzwerk mit allen Hosts und Subnetzen}
\end{figure}

\section*{Exercise 1: Configure the networks of figure 1}
\addcontentsline{toc}{section}{Exercise 1: Configure the networks of figure 1} 

\textbf{a)} Please copy, configure and set the networks for the following virtual machines provided by your instructor:\\
vm-Debian-8.5 copy from USB provided , \\
vm-Ubuntu-16-10 copy from USB provided. \\ 
The password for the virtual machines is hamburg99tkrn for Ubuntu and Debian. \\ \\
\textbf{b)} Please scan the following networks: 10.88.X.64/27, 10.88.X.96/27, 10.88.X.128/27, 10.88.X.160/27 and 10.88.X.32/27 \\ \\
\textbf{c)} Use Zenmap to scan all the above networks \\

Zenmap liefert uns alle statisch vergebenen IP Adressen der Hosts. Als Zusatz erhalten wir die Netzwerktopologie, ausgehend von dem aktuellen Host.  \\

\textbf{Solution of b)}

\begin{center}
Scan des Subnetztes 10.88.40.64/27
\end{center}

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.55\textwidth]{bilder/screens/Part_4/Exercise_1/z64.PNG} 
\end{center}
\caption[Abbildung P5 ex. 1 Zenmap Subnetz 64]{Subnetz 10.88.40.64/27}
\end{figure}

\begin{center}
Scan des Subnetztes 10.88.40.96/27
\end{center}

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.55\textwidth]{bilder/screens/Part_4/Exercise_1/z96.PNG} 
\end{center}
\caption[Abbildung P5 ex. 1 Zenmap Subnetz 96]{Subnetz 10.88.40.96/27}
\end{figure}

\begin{center}
Scan des Subnetztes 10.88.40.128/27
\end{center}

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.55\textwidth]{bilder/screens/Part_4/Exercise_1/z128.PNG} 
\end{center}
\caption[Abbildung P5 ex. 1 Zenmap Subnetz 128]{Subnetz 10.88.40.128/27}
\end{figure}

\begin{center}
Scan des Subnetztes 10.88.40.160/27
\end{center}

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.55\textwidth]{bilder/screens/Part_4/Exercise_1/z160.PNG} 
\end{center}
\caption[Abbildung P5 ex. 1 Zenmap Subnetz 160]{Subnetz 10.88.40.160/27}
\end{figure}

\begin{center}
Scan des Subnetztes 10.88.40.32/27
\end{center}

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.55\textwidth]{bilder/screens/Part_4/Exercise_1/z32.PNG} 
\end{center}
\caption[Abbildung P5 ex. 1 Zenmap Subnetz 32]{Subnetz 10.88.40.32/27}
\end{figure}

\textbf{Solution of c) Use Zenmap to scan all the above networks}

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.55\textwidth]{bilder/screens/Part_4/Exercise_1/zAlle.PNG} 
\end{center}
\caption[Abbildung P5 ex. 1 Zenmap alle Subnetze]{Alle Subnetze}
\end{figure}

Alternativ hätte man als Target auch folgendes in die Eingabemaske einfügen können: 10.88.40.32-160/27

\section*{Exercise 2: NMAP}
\addcontentsline{toc}{section}{Exercise 2: NMAP} 

\textbf{Question 1:} Please type and explain the nmap command: nmap -sS -O 10.88.40.130 \\

\textbf{Answer 1:} Scannt das Subnetz 10.88.40.128 nach dem Host mit der IP Adresse 10.88.40.130 -sS bedeutet in diesem zusammenhang SYN-Stealth-Scan. Dabei wird keine vollständige TCP/IP Vergindung aufgebaut und ist deshalb unauffäliger als das der Parameter -sT, welcher als einziger ohne root rechte Funktioniert.

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.6\textwidth]{bilder/screens/Part_4/Exercise_2/Q1.PNG} 
\end{center}
\caption[Abbildung P5 ex. 4 Wireshark Filter 1]{Wireshark Filter ip.addr == 10.88.40.70}
\end{figure}

\section*{Exercise 3: Nessus network device identification}
\addcontentsline{toc}{section}{Exercise 3: Nessus network device identification} 

\section*{Exercise 4: OpenVAS Network device identification}
\addcontentsline{toc}{section}{Exercise 4: OpenVAS Network device identification} 

\chapter*{Part 5: Sniffing, Virtual Private Network (VPN)}
\addcontentsline{toc}{chapter}{Part 5: Sniffing, Virtual Private Network (VPN)} 

\section*{Exercise 1: Configure and set the networks shown below (figure1 and 2)}
\addcontentsline{toc}{section}{Exercise 1: Configure and set the networks shown below (figure1 and 2)} 

\section*{Exercise 2: Getting started with network monitoring tools}
\addcontentsline{toc}{section}{Exercise 2: Getting started with network monitoring tools} 

\section*{Exercise 3: TCPDUMP}
\addcontentsline{toc}{section}{Exercise 3: TCPDUMP} 

\section*{Exercise 4: Wireshark}
\addcontentsline{toc}{section}{Exercise 4: Wireshark} 

\textbf{Question 1:} Please type and examine the syntax for a Wireshark command which capture filter so that all IP datagrams with source or destination IP address equal to 10.88.X.? are recorded. \\ 

\textbf{Answer 1:} Mit dem Filter: \textit{ip.addr == 10.88.40.70} können wir alle Netzwerkpakete, welche über die Schnittstelle 10.88.40.70 gesendet oer empfangen werden, abfangen und anzeigen lassen.\\

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.6\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q1.PNG} 
\end{center}
\caption[Abbildung P5 ex. 4 Wireshark Filter 1]{Wireshark Filter ip.addr == 10.88.40.70}
\end{figure}

\textbf{Question 2:} Please type and examine the syntax for a Wireshark display filter that shows IP datagrams with destination IP address equal to 10.88.X.? and frame size greater than 400 bytes. \\

\textbf{Answer 2:} Um alle Datenpakete abzufangen, die mindestens 400 Byte groß sind, bedarf eine kleine Erweiterung des vorherigen Befehls. Der Filter lautet nun: \textit{ip.addr == 10.88.40.70 \&\& frame.len > 400}. Mit dem Teil \textit{frame.len > X} können wir die Datenpakete nach Bytegröße X Filtern. Für X gilt, X $< 2^{32}$ $\wedge$ X $\in \mathbb{N}$. 

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.55\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q2.PNG} 
\end{center}
\caption[Abbildung P5 ex. 4 Wireshark Filter 2]{Wireshark Filter ip.addr == 10.88.40.70 \&\& frame.len > 400}
\end{figure}

\textbf{Question 3:} Please type and examine the syntax for a Wireshark display filter that shows packets containing ICMP messages with source or destination IP address equal to 10.88.X.? and frame numbers between 15 and 30 \\

\textbf{Answer 3:} Der Filter lautet: \textit{ip.addr == 10.88.40.70 \&\& (frame.number > 15 \&\& frame.number < 30)}. ICMP steht für Internet Control Message Protocol und übermittelt hauptsächlich Diagnose-informationen zwischen dem Router und dem Host. \\

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.7\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q3.PNG} 
\end{center}
\caption[Abbildung P5 ex. 4 Wireshark Filter 3]{Wireshark Filter ip.addr == 10.88.40.70 \&\& (frame.number > 15 \&\& frame.number < 30)}
\end{figure}

\textbf{Question 4:} Please type and examine the syntax for a Wireshark display filter that shows packets containing TCP segments with source or destination IP address equal to 10.88.X.? and using port number 23. \\

\textbf{Answer 4:} Damit wir alle TCP Pakete eines Hosts über die Port 23 abfangen können wird der folgende Filter eingesetzt: \textit{ip.dst == 10.88.40.70 and tcp.port == 23}. Bei TCP handelt es sich um ein Übertragungsprotokoll (Transmission Control Protocol) aus der Familie der Internetprotokolle. Port 23 ist standardisiert für den Service Telnet. 

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q4.PNG} 
\end{center}
\caption[Abbildung P5 ex. 4 Wireshark Filter 4]{Wireshark Filter ip.dst == 10.88.40.70 and tcp.port == 23}
\end{figure}


\textbf{Question 5:} Please type and examine a Wireshark capture filter expression for Q4. \\  

\textbf{Answer 5:} Der Filter ist ähnlich wie in Q4, lediglich die Konfiguration findet an einer anderen Stelle statt. \\ 

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q5.PNG} 
\end{center}
\caption[Abbildung P5 ex. 4 Wireshark Filter 5]{Wireshark Filter host 10.88.40.70 \&\& tcp port 23}
\end{figure}

\textbf{Question 6:} Please type and examine the syntax for a Wireshark command which, by default, collects packets with source or destination IP address 10.88.X.? on interface eth4. \\

\textbf{Answer 6:} Innerhalb des Terminals lässt sich der Filter: \textit{wireshark -i eth4 -k -f "host 10.88.40.70"}, anwenden. Die Argumente bedeuten dabei folgendes: -i eth4 steht für Interface, -k startet das Abfangen von Paketen und -f "host 10.88.40.70", ist der Paketfilter.\\

\textbf{Question 7:} : Please type and examine the syntax of a display filter which selects the TCP packets with destination IP address 10.88.X.?, and TCP port number 23.\\

\textbf{Answer 7:} Der Filter lautet: \textit{ip.addr == 10.88.40.70 \&\& tcp.port == 23} und fängt alle ein-/ausgehenden Pakete der Ip Adresse 10.88.40.70 über den Port 23 (Telnet) ab.\\

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q7.PNG} 
\end{center}
\caption[Abbildung P5 ex. 4 Wireshark Filter 7]{Wireshark Filter ip.addr == 10.88.40.70 \&\& tcp.port == 23}
\end{figure}

\textbf{Question 8:} Please login to the server pnidX-mid-hh and start an ftp client to the server pnidXcnt-bln(vsftpd
daemon should be running on pnidX-cnt-bln). Please use
wireshark on pnidX-mid-bln to sniff or capture the username and password of the ftp service between pnidX-mid-hh and pnidX-cnt-bln. Is this possible, show your result of the capture\\

\textbf{Answer 8:} Mithilfe von Wireshark können wir leicht das ftp login Passwort herausfinden, da bei der Übertragung via ftp die Pakete unverschlüsselt übertragen werden. Dazu starten wir zunächst Wirehsark auf dem Host pnid4-mid-hh und führen ein ftp login, von cnt-bln nach mid-hh, durch. Zuerst muss der Service ftp auf beiden Host aktiv sein, deshalb überprüfen wir den Status. \\

\begin{center}
\includegraphics[width=0.5\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q81.PNG} 
\end{center}

Danach starten wir wireshark auf dem Host mid-hh und melden uns über den Host cnt-bln bei dem Host mid-hh über den ftp servie an.  \\

\begin{center}
\includegraphics[width=0.3\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q83.PNG} 
\end{center} 

Über die Ausgabe Login successfull sehen wir, dass das anmelden erfolgreich war. Wir öffnen nun Wireshark auf dem Host mid-hh und filtern nach ftp Paketen. Dazu reicht es aus ftp in die Filtermaske einzugeben.\\

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q82.PNG} 
\end{center} 
\caption[Abbildung P5 ex. 4 Wireshark Filter 8]{Wireshark Filter ftp}
\end{figure}

Wir schauen uns nun die Pakete genauer an und können die Logininformationen in einem der Pakete anzeigen lassen. \\

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.4\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q84.PNG} 
\caption[Abbildung P5 ex. 4 Wireshark ftp Login Passwort]{Wireshark ftp Login Passwort}
\end{center} 
\end{figure}

Sofort sehen wir den Benutzernamen trump4 und das Passwort clinton4. Dieses Szenario zeigt wie einfach es ist die Logininformationen herauszulesen, wenn die Datenpakete unverschlüsselt übertragen werden. 

\textbf{Question 9:} Please login to the server pnidX-mid-hh and start an ssh client to the server
pnidX-cnt-bln(sshd daemon should be running on pnidX-cnt-bln). Please use wireshark on pnidX-mid-bln to sniff or capture the username and password of the ssh service between pnidX-mid-hh and pnidX-cnt-bln. Is this possible, show the result of the capture. \\

\textbf{Answer 9:} Anders als ftp werden bei shh (Secure Shell) die Pakete verschlüsselt übertragen, sodass es nicht möglich ist das Passwort mitzulesen. Zuerst prüfen wir, ob der der ssh service auf beiden Hosts aktiv ist. \\

\begin{center}
\includegraphics[width=0.5\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q91.PNG} 
\end{center}

Danach starten wir wireshark auf dem Host mid-hh und melden uns über den Host cnt-bln bei dem Host mid-hh über den ssh servie an.  \\

\begin{center}
\includegraphics[width=0.5\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q92.PNG} 
\end{center}

Über die Ausgabe Last login..., sehen wir, dass das anmelden erfolgreich war. Wir öffnen nun Wireshark auf dem Host mid-hh und filtern nach ssh Paketen. Dazu reicht es aus ssh in die Filtermaske einzugeben.

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q93.PNG} 
\end{center} 
\caption[Abbildung P5 ex. 4 Wireshark Filter 9]{Wireshark Filter ssh}
\end{figure}

Wir schauen uns nun die Pakete genauer an und können keine Informationen über das Login erhalten, da alle Datenfragmente verschlüsselt wurden. \\

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.5\textwidth]{bilder/screens/Part_5/Aufgabe_4/Q94.PNG} 
\end{center} 
\caption[Abbildung P5 ex. 4 Wireshark ssh Datenpaket]{Wireshark verschlüsselte Datenfragmente}
\end{figure}

\section*{Exercise 5: Experimenting with network monitoring tools}
\addcontentsline{toc}{section}{Exercise 5: Experimenting with network monitoring tools} 

\textbf{Exercise:} In this exercise you will connect to the webserver pnidX-cnt-bln from pnidX-mid-hh. Let pnidX-cnt-bln determine your IP-address and the OS you are running. Then, connect to
a service of your choice (e.g. ftp, http, ssh etc.) on pnidX cnt-bln. Let pnidX-mid-hh determine which services are running on pnidX-cnt-bln. \\

\textbf{Solution:} Wir führen zunächst nmap auf dem Host pnid4-cnt-bln aus und übergeben dabei die Zieladresse des Hosts pnid4-mid-hh, damit wir sehen können welche Ports geöffnet sind bzw. welcher Service auf dem Zielhost gerade aktiv ist.

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.45\textwidth]{bilder/screens/Part_5/Aufgabe_5/s1.PNG} 
\end{center} 
\caption[Abbildung P5 ex. 5 nmap offene Ports anzeigen]{Zeigt uns die offenen Ports an}
\end{figure}

Wir sehen nun, dass die Ports 21 ftp, 22 ssh, 23 telnet, 80 http und 111 rpcbind offen sind und entscheiden uns via Telnet vom Quellhost pnid4-cnt-bln bei dem Zielhost pnid-mid-hh anzumelden. \\

\begin{figure}[H]
\begin{center}
\includegraphics[width=0.45\textwidth]{bilder/screens/Part_5/Aufgabe_5/s2.PNG} 
\end{center} 
\caption[Abbildung P5 ex. 5 Telnet login]{Anmeldung via Telnet}
\end{figure}

Die Ausgabe des letzten Logins zeigt uns, dass die Anmeldung erfolgreich war.  


\section*{Exercise 6: Set up a host-to-host VPN using preshared key}
\addcontentsline{toc}{section}{Exercise 6: Set up a host-to-host VPN using preshared key} 

\section*{Exercise 7: Set up a host-to-host VPN using RSA keys}
\addcontentsline{toc}{section}{Exercise 7: Set up a host-to-host VPN using RSA keys}

\section*{Exercise 8: Set up a network-to-network VPN using preshared key}
\addcontentsline{toc}{section}{Exercise 8: Set up a network-to-network VPN using preshared key}

\section*{Exercise 9: Set up a network-to-network VPN using RSA secrets keys}
\addcontentsline{toc}{section}{Exercise 9: Set up a network-to-network VPN using RSA secrets keys}



%\backmatter 

%\chapter{Literaturverzeichnis und Quellenverzeichnis}


\end{document}